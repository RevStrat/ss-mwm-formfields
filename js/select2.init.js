!function(t){t.entwine("ss",function(t){t("select.select2").entwine({onmatch:function(){var a=this;if(a.hasClass("has-select2"))return this._super();var e=t.extend({},this.configuration(a),a.data());if(a.addClass("has-select2"),a.data("prefetchUrl")){var s=[];a[0].disabled=!0,a.addClass("processing"),t.ajax({type:"GET",url:a.data("prefetchUrl"),success:function(t){s=t},complete:function(){e.data={results:s},a[0].disabled=!1,a.select2(e),a.removeClass("processing")}})}else a.select2(e);return this._super()},onunmatch:function(){this.data("select2")&&this.data("select2").destroy(),this._super()},configuration:function(t){var a={};return t.data("suggestUrl")?a.ajax={url:t.data("suggestUrl"),cache:!0,data:function(t){return{q:t}},processResults:function(t){return{results:t}}}:t.data("local")&&t.data("local").length&&(a.data={results:t.data("local")}),t.data("allowHtml")&&(a.escapeMarkup=function(t){return t}),t.attr("required")||(a.allowClear=!0,a.hasOwnProperty("data")&&!this.hasEmptyItem(a.data.results)&&a.data.results.unshift(a.data.results,{id:"",text:t.attr("placeholder")||t.data("placeholder")||""})),a},hasEmptyItem:function(t){for(var a in t)if(t.hasOwnProperty(a)&&t.item.hasOwnProperty.id&&!t.item.id)return!0;return!1}})})}(jQuery);