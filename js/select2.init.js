!function(a){a.entwine("ss",function(a){a("select.select2").entwine({onmatch:function(){var t=this;if(t.hasClass("has-select2"))return this._super();var e=a.extend({},this.configuration(t),t.data());if(t.addClass("has-select2"),t.data("prefetchUrl")){var r=[];t[0].disabled=!0,t.addClass("processing"),a.ajax({type:"GET",url:t.data("prefetchUrl"),success:function(a){r=a},complete:function(){e.data={results:r},t[0].disabled=!1,t.select2(e),t.data("localValue")&&t.val(t.data("localValue")).trigger("change"),t.removeClass("processing")}})}else t.select2(e),t.data("localValue")&&t.val(t.data("localValue")).trigger("change");return this._super()},onunmatch:function(){this.data("select2")&&this.data("select2").destroy(),this._super()},configuration:function(a){var t={};return a.data("suggestUrl")?t.ajax={url:a.data("suggestUrl"),cache:!0,data:function(a){return{q:a}},processResults:function(a){return{results:a}}}:a.data("local")&&a.data("local").length&&(a.empty(),t.data=a.data("local")),a.data("allowHtml")&&(t.escapeMarkup=function(a){return a}),a.data("requireSelection")||(t.tags=!0),a.attr("required")||(t.allowClear=!0,t.hasOwnProperty("data")&&!this.hasEmptyItem(t.data)&&t.data.unshift({id:"",text:a.attr("placeholder")||a.data("placeholder")||""})),t},hasEmptyItem:function(a){for(var t in a)if(a.hasOwnProperty(t)&&a[t].hasOwnProperty.id&&!a[t].id)return!0;return!1}})})}(jQuery);