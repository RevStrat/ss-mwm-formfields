!function(e){e.entwine("ss",function(e){e("input.typeahead").entwine({onmatch:function(){var t=this,a=t.data("searchEngine");if(t.hasClass("has-typeahead"))return this._super();if(!a){var n={datumTokenizer:function(e){return console.log(e),e},queryTokenizer:Bloodhound.tokenizers.whitespace,local:t.data("local")?t.data("local"):null,remote:t.data("remote")?decodeURIComponent(t.data("remote")):decodeURIComponent(t.data("suggestUrl"))};(t.data("prefetch")||t.data("prefetchUrl"))&&(n.prefetch=t.data("prefetch")?decodeURIComponent(t.data("prefetch")):decodeURIComponent(t.data("prefetchUrl"))),a=new Bloodhound(n),t.data("searchEngine",a)}a.initialize();var s=t.data();return s.templates||(s.templates={},s.hasOwnProperty("templates.empty")&&(s.templates.empty=s["templates.empty"]),s.hasOwnProperty("templates.footer")&&(s.templates.footer=s["templates.footer"]),s.hasOwnProperty("templates.header")&&(s.templates.header=s["templates.header"]),s.hasOwnProperty("templates.suggestion")?s.templates.suggestion=s["templates.suggestion"]:s.templates.suggestion=function(e){return e.text?"<p>"+e.text+"</p>":"<p>"+e.id+"</p>"}),t.addClass("has-typeahead").typeahead(null,e.extend({},s,{source:a.ttAdapter(),displayKey:t.data("displayKey")?t.data("displayKey"):"id"})),this._super()},onunmatch:function(){this._super()}})})}(jQuery);